{"version":3,"sources":["main.js"],"names":["isMobileDevice","window","orientation","navigator","userAgent","indexOf","viewPortWidth","$","outerWidth","Modernizr","tests","name","value","t","prop","length","addTest","CSS","i","_prefixes","supports","testStyles","join","elem","rule","style","getComputedStyle","clip","clipPath","_domPrefixes","test","testProp","document","ready","$darkerBackground","$baseBackground","bgTransitionEnd","bgTransition","columnEven","columnOdd","columnWrapper","background","tm","TimelineMax","set","to","rotationZ","width","y","add","appendImage","imageUrl","image","Image","src","onload","append","showAside","$panel","$image","tlPanel","marginLeft","left","parent","marginRight","ease","Power3","easeInOut","opacity","from","easeOut","x","cssclippathpolygon","hide","setTimeout","preserve3d","csstransforms3d","mouseOver3dEffect","outer","inner","onMouseEnterHandler","event","update","onMouseLeaveHandler","onMouseMoveHandler","console","log","counter","isTimeToUpdate","updateRate","onmouseenter","onmouseleave","on"],"mappings":"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","file":"main.js","sourcesContent":["/* utility functions */\n\nconst isMobileDevice = () => {\n\treturn (typeof window.orientation !== 'undefined') || (navigator.userAgent.indexOf('IEMobile') !== -1);\n};\nconst viewPortWidth = () => {\n\treturn $(window).outerWidth();\n};\n/* update Modernizr to recognize support for CSS clip-path polygon */\n(function(Modernizr){\n\n\t// Here are all the values we will test. If you want to use just one or two, comment out the lines of test you don't need.\n\tvar tests = [\n\t\t{ name: 'polygon', value: 'polygon(50% 0%, 0% 100%, 100% 100%)' }\n\t];\n\n\tvar t = 0,\n\t\tname, value, prop;\n\n\tfor (; t < tests.length; t++) {\n\t\tname = tests[t].name;\n\t\tvalue = tests[t].value;\n\t\tModernizr.addTest('cssclippath' + name, function(){\n\t\t\t// Try using window.CSS.supports\n\t\t\tif ( 'CSS' in window && 'supports' in window.CSS ) {\n\t\t\t\tfor (var i = 0; i < Modernizr._prefixes.length; i++) {\n\t\t\t\t\tprop = Modernizr._prefixes[i] + 'clip-path';\n\t\t\t\t\t\n\t\t\t\t\tif ( window.CSS.supports(prop,value) ) { return true; }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Otherwise, use Modernizr.testStyles and examine the property manually\n\t\t\treturn Modernizr.testStyles('#modernizr { '+Modernizr._prefixes.join('clip-path:'+value+'; ')+' }',function(elem, rule) {\n\t\t\t\tvar style = getComputedStyle(elem),\n\t\t\t\t\tclip = style.clipPath;\n\n\t\t\t\tif ( !clip || clip == 'none' ) {\n\t\t\t\t\tclip = false;\n\n\t\t\t\t\tfor (var i = 0; i < Modernizr._domPrefixes.length; i++) {\n\t\t\t\t\t\ttest = Modernizr._domPrefixes[i] + 'ClipPath';\n\t\t\t\t\t\tif ( style[test] && style[test] !== 'none' ) {\n\t\t\t\t\t\t\tclip = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn Modernizr.testProp('clipPath') && clip;\n\t\t\t});\n\t\t});\n\n\t}\n\n})(Modernizr);\n\n$(document).ready(function () {\n\n\t/* colors to use on the page */\n\n\tconst\n\t\t$darkerBackground = '#2a2a2a',\n\t\t$baseBackground = '#323232';\n\n\t/* Background animation played after each subpage loaded */\n\tlet bgTransitionEnd = false;\n\tconst bgTransition = () => {\n\n\t\tconst\n\t\t\tcolumnEven = $('.column:nth-child(even)'),\n\t\t\tcolumnOdd = $('.column:nth-child(odd)'),\n\t\t\tcolumnWrapper = $('.glimpse .column-wrap'),\n\t\t\tbackground = $('.glimpse'),\n\t\t\ttm = new TimelineMax();\n\n\t\ttm\n\t\t\t.set([background, columnWrapper], { background: 'transparent' })\n\t\t\t.to(columnWrapper, .6, { rotationZ: 0 }, 'synchro')\n\t\t\t.to(columnEven, .6, { width: 0 }, 'synchro')\n\t\t\t.to(columnOdd, .6, { width: '12.5%' }, 'synchro')\n\t\t\t.set(background, { y: '100%' })\n\t\t\t.set([background, columnWrapper], { background: $darkerBackground })\n\t\t\t.add(() => bgTransitionEnd = true);\n\t};\n\n\tbgTransition();\n\n\t/* about.html code */\n\n\tif ($('body#about').length) {\n\n\t\tconst appendImage = () => {\n\n\t\t\tconst imageUrl = viewPortWidth() > 1024 ? 'about.jpg' : 'about-mobile.jpg';\n\t\t\tconst image = new Image();\n\t\t\timage.src = '../images/' + imageUrl;\n\t\t\timage.onload = () => $('.img-wrapper').append(image);\n\n\t\t};\n\n\t\tconst showAside = () => {\n\n\t\t\tif (bgTransitionEnd) {\n\n\t\t\t\tconst $panel = $('#about-right-panel');\n\t\t\t\tconst $image = $('.img-wrapper');\n\t\t\t\tconst tlPanel = new TimelineMax();\n\t\t\t\tconst marginLeft = viewPortWidth() > 1024 ? '5%' : 0;\n\n\t\t\t\ttlPanel\n\t\t\t\t\t.to($panel, .4, { width: '100%', left: '0' })\n\t\t\t\t\t.to($panel.parent(), 1, {  marginLeft: marginLeft, marginRight: 'auto', ease: Power3.easeInOut })\n\t\t\t\t\t.add(appendImage)\n\t\t\t\t\t.set($image, {opacity: 0.05})\n\t\t\t\t\t.from($image, 3, { opacity: 0, ease: Power3.easeOut},'image+=0.2')\n\t\t\t\t\t.from($image, 1, { x: '-100%', ease: Power3.easeOut},'image');\n\n\t\t\t\tif (!Modernizr.cssclippathpolygon) $('.glitch').hide();\n\t\t\t\n\t\t\t} else setTimeout(showAside, 200);\n\n\t\t};\n\t\n\n\t\tif (Modernizr.preserve3d && Modernizr.csstransforms3d && !isMobileDevice()) {\n\t\t\t\n\t\t\tconst mouseOver3dEffect = () => {\n\t\t\t\t\n\t\t\t\tconst outer = $('.img-wrapper-outer');\n\t\t\t\tconst inner = $('.img-wrapper');\n\n\t\t\t\tconst onMouseEnterHandler = (event) => {\n\t\t\t\t\tupdate(event);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tconst onMouseLeaveHandler = () => {\n\t\t\t\t\tinner.style = '';\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tconst onMouseMoveHandler = (event) => {\n\t\t\t\t\tconsole.log(counter);\n\t\t\t\t\t\n\t\t\t\t\tif (isTimeToUpdate()) {\n\t\t\t\t\t\tupdate(event);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tconst update = (event) => {\n\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tlet counter = 0;\n\t\t\t\tconst updateRate = 10;\n\t\t\t\t\n\t\t\t\tconst isTimeToUpdate = function() {\n\t\t\t\t\treturn counter++ % updateRate === 0;\n\t\t\t\t};\n\n\t\t\t\touter.onmouseenter = onMouseEnterHandler;\n\t\t\t\touter.onmouseleave = onMouseLeaveHandler;\n\t\t\t\touter.on( 'mousemove', onMouseMoveHandler);\n\t\t\t};\n\t\t\n\t\t\tmouseOver3dEffect();\n\t\t}\n\t\tshowAside();\n\t}\n\n\t\t\n\t\n});\n\n"]}