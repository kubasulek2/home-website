{"version":3,"sources":["main.js"],"names":["isMobileDevice","window","orientation","navigator","userAgent","indexOf","viewPortWidth","$","outerWidth","Modernizr","tests","name","value","t","prop","length","addTest","CSS","i","_prefixes","supports","testStyles","join","elem","style","getComputedStyle","clip","clipPath","_domPrefixes","test","testProp","document","ready","$darkerBackground","$baseBackground","$baseWhite","$baseYellow","menuIcon","menuContainer","menuBar","menuBg","logoNav","openMenu","tlOpenMenu","TimelineMax","set","display","borderColor","to","eq","z","ease","Power0","easeNone","y","add","css","clearProps","rotation","background","width","height","visibility","one","closeMenu","showMenuItems","tmCloseMenu","addCallback","transition","top","boolean","menuItems","find","tlItems","staggerTo","opacity","staggerFrom","redirect","e","preventDefault","url","currentTarget","href","tlGlimpse","location","bgTransitionEnd","bgTransition","columnEven","columnOdd","columnWrapper","tm","rotationZ","on","showAside","$panel","$image","tlPanel","marginLeft","left","parent","marginRight","Power3","easeInOut","appendImage","from","easeOut","x","preserve3d","csstransforms3d","mouseOver3dEffect","cssclippathpolygon","hide","setTimeout","imageUrl","image","Image","src","onload","append","outer","inner","mouse","_x","_y","updatePosition","event","clientX","clientY","setOrigin","offset","Math","floor","outerHeight","onMouseEnterHandler","update","onMouseLeaveHandler","TweenMax","rotationX","rotationY","onMouseMoveHandler","isTimeToUpdate","transformRotation","toFixed","counter","updateRate"],"mappings":"AAAA;;AAEA,MAAMA,iBAAiB,MAAM;AAC5B,QAAQ,OAAOC,OAAOC,WAAd,KAA8B,WAA/B,IAAgDC,UAAUC,SAAV,CAAoBC,OAApB,CAA4B,UAA5B,MAA4C,CAAC,CAApG;AACA,CAFD;AAGA,MAAMC,gBAAgB,MAAM;AAC3B,QAAOC,EAAEN,MAAF,EAAUO,UAAV,EAAP;AACA,CAFD;AAGA;AACA,CAAC,UAAUC,SAAV,EAAqB;;AAErB;AACA,KAAIC,QAAQ,CACX,EAAEC,MAAM,SAAR,EAAmBC,OAAO,qCAA1B,EADW,CAAZ;;AAIA,KAAIC,IAAI,CAAR;AAAA,KACCF,IADD;AAAA,KACOC,KADP;AAAA,KACcE,IADd;;AAGA,QAAOD,IAAIH,MAAMK,MAAjB,EAAyBF,GAAzB,EAA8B;AAC7BF,SAAOD,MAAMG,CAAN,EAASF,IAAhB;AACAC,UAAQF,MAAMG,CAAN,EAASD,KAAjB;AACAH,YAAUO,OAAV,CAAkB,gBAAgBL,IAAlC,EAAwC,YAAY;AACnD;AACA,OAAI,SAASV,MAAT,IAAmB,cAAcA,OAAOgB,GAA5C,EAAiD;AAChD,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIT,UAAUU,SAAV,CAAoBJ,MAAxC,EAAgDG,GAAhD,EAAqD;AACpDJ,YAAOL,UAAUU,SAAV,CAAoBD,CAApB,IAAyB,WAAhC;;AAEA,SAAIjB,OAAOgB,GAAP,CAAWG,QAAX,CAAoBN,IAApB,EAA0BF,KAA1B,CAAJ,EAAsC;AAAE,aAAO,IAAP;AAAc;AACtD;AACD,WAAO,KAAP;AACA;AACD;AACA,UAAOH,UAAUY,UAAV,CAAqB,kBAAkBZ,UAAUU,SAAV,CAAoBG,IAApB,CAAyB,eAAeV,KAAf,GAAuB,IAAhD,CAAlB,GAA0E,IAA/F,EAAqG,UAAUW,IAAV,EAAgB;AAC3H,QAAIC,QAAQC,iBAAiBF,IAAjB,CAAZ;AAAA,QACCG,OAAOF,MAAMG,QADd;;AAGA,QAAI,CAACD,IAAD,IAASA,QAAQ,MAArB,EAA6B;AAC5BA,YAAO,KAAP;;AAEA,UAAK,IAAIR,IAAI,CAAb,EAAgBA,IAAIT,UAAUmB,YAAV,CAAuBb,MAA3C,EAAmDG,GAAnD,EAAwD;AACvDW,aAAOpB,UAAUmB,YAAV,CAAuBV,CAAvB,IAA4B,UAAnC;AACA,UAAIM,MAAMK,IAAN,KAAeL,MAAMK,IAAN,MAAgB,MAAnC,EAA2C;AAC1CH,cAAO,IAAP;AACA;AACA;AACD;AACD;;AAED,WAAOjB,UAAUqB,QAAV,CAAmB,UAAnB,KAAkCJ,IAAzC;AACA,IAjBM,CAAP;AAkBA,GA7BD;AA+BA;AAED,CA9CD,EA8CGjB,SA9CH;;AAgDAF,EAAEwB,QAAF,EAAYC,KAAZ,CAAkB,YAAY;;AAE7B;;AAEA,OACCC,oBAAoB,SADrB;AAAA,OAECC,kBAAkB,SAFnB;AAAA,OAGCC,aAAa,SAHd;AAAA,OAICC,cAAc,SAJf;;AAMA;;AAEA,OACCC,WAAW9B,EAAE,OAAF,CADZ;AAAA,OAEC+B,gBAAgB/B,EAAE,iBAAF,CAFjB;AAAA,OAGCgC,UAAUhC,EAAE,YAAF,CAHX;AAAA,OAICiC,SAASjC,EAAE,UAAF,CAJV;AAAA,OAKCkC,UAAUlC,EAAE,WAAF,CALX;;AAOA;;AAEA,OAAMmC,WAAW,MAAM;AACtB,QAAMC,aAAa,IAAIC,WAAJ,EAAnB;;AAEA;;AAEAD,aACEE,GADF,CACMP,aADN,EACqB,EAAEQ,SAAS,MAAX,EADrB,EAEED,GAFF,CAEMR,QAFN,EAEgB,EAAEU,aAAaZ,UAAf,EAFhB,EAGEa,EAHF,CAGKT,QAAQU,EAAR,CAAW,CAAX,CAHL,EAGoB,EAHpB,EAGwB,EAAEC,GAAG,CAAC,EAAN,EAAUC,MAAMC,OAAOC,QAAvB,EAHxB,EAG2D,YAH3D,EAIEL,EAJF,CAIKT,QAAQU,EAAR,CAAW,CAAX,CAJL,EAIoB,EAJpB,EAIwB,EAAEC,GAAG,CAAC,CAAN,EAASC,MAAMC,OAAOC,QAAtB,EAJxB,EAI0D,YAJ1D,EAKEL,EALF,CAKKT,QAAQU,EAAR,CAAW,CAAX,CALL,EAKoB,EALpB,EAKwB,EAAEK,GAAG,OAAL,EAAcH,MAAMC,OAAOC,QAA3B,EALxB,EAK+D,WAL/D,EAMEL,EANF,CAMKT,QAAQU,EAAR,CAAW,CAAX,CANL,EAMoB,EANpB,EAMwB,EAAEK,GAAG,MAAL,EAAaH,MAAMC,OAAOC,QAA1B,EANxB,EAM8D,WAN9D,EAOEE,GAPF,CAOM,MAAM;AACVhB,WAAQiB,GAAR,CAAY,WAAZ,EAAyB,EAAzB;AACAjB,WAAQiB,GAAR,CAAY,KAAZ,EAAmB,KAAnB;AACA,GAVF,EAWEX,GAXF,CAWMN,OAXN,EAWe,EAAEkB,YAAY,GAAd,EAXf,EAYET,EAZF,CAYKT,QAAQU,EAAR,CAAW,CAAX,CAZL,EAYoB,EAZpB,EAYwB,EAAES,UAAU,EAAZ,EAAgBC,YAAYvB,WAA5B,EAAyCe,MAAMC,OAAOC,QAAtD,EAZxB,EAY0F,QAZ1F,EAaEL,EAbF,CAaKT,QAAQU,EAAR,CAAW,CAAX,CAbL,EAaoB,EAbpB,EAawB,EAAES,UAAU,CAAC,EAAb,EAAiBC,YAAYvB,WAA7B,EAA0Ce,MAAMC,OAAOC,QAAvD,EAbxB,EAa2F,QAb3F,EAcEL,EAdF,CAcKT,QAAQU,EAAR,CAAW,CAAX,CAdL,EAcoB,EAdpB,EAcwB,EAAES,UAAU,EAAZ,EAAgBC,YAAYvB,WAA5B,EAAyCe,MAAMC,OAAOC,QAAtD,EAdxB,EAc0F,QAd1F,EAeEL,EAfF,CAeKR,MAfL,EAea,EAfb,EAeiB,EAAEoB,OAAO,MAAT,EAAiBC,QAAQ,MAAzB,EAfjB,EAeoD,gBAfpD,EAgBEb,EAhBF,CAgBKX,QAhBL,EAgBe,GAhBf,EAgBoB,EAAEU,aAAab,eAAf,EAhBpB,EAgBsD,gBAhBtD,EAiBEW,GAjBF,CAiBMJ,OAjBN,EAiBe,EAAEqB,YAAY,QAAd,EAjBf,EAiByC,iBAjBzC,EAkBEP,GAlBF,CAkBM,MAAM;AACV;AACAlB,YAAS0B,GAAT,CAAa,OAAb,EAAsBC,SAAtB;AACAC,iBAAc,IAAd;AACA,GAtBF;AAyBA,EA9BD;;AAgCA;;AAEA,OAAMD,YAAY,MAAM;AACvB,QAAME,cAAc,IAAItB,WAAJ,EAApB;;AAEAsB,cACEC,WADF,CACc,MAAMF,cAAc,KAAd,CADpB,EACyC,MADzC,EACiD;AADjD,GAEEjB,EAFF,CAEKT,QAAQU,EAAR,CAAW,CAAX,CAFL,EAEoB,EAFpB,EAEwB,EAAES,UAAU,CAAZ,EAAeC,YAAYxB,UAA3B,EAAuCgB,MAAMC,OAAOC,QAApD,EAFxB,EAEwF,aAFxF,EAGEL,EAHF,CAGKT,QAAQU,EAAR,CAAW,CAAX,CAHL,EAGoB,EAHpB,EAGwB,EAAES,UAAU,CAAZ,EAAeC,YAAYxB,UAA3B,EAAuCgB,MAAMC,OAAOC,QAApD,EAHxB,EAGwF,aAHxF,EAIEL,EAJF,CAIKT,QAAQU,EAAR,CAAW,CAAX,CAJL,EAIoB,EAJpB,EAIwB,EAAES,UAAU,CAAZ,EAAeC,YAAYxB,UAA3B,EAAuCgB,MAAMC,OAAOC,QAApD,EAJxB,EAIwF,aAJxF,EAKER,GALF,CAKMN,OALN,EAKe,EAAE6B,YAAY,SAAd,EALf,EAMEvB,GANF,CAMMN,QAAQU,EAAR,CAAW,CAAX,CANN,EAMqB,EAAEoB,KAAK,KAAP,EANrB,EAOExB,GAPF,CAOMN,QAAQU,EAAR,CAAW,CAAX,CAPN,EAOqB,EAAEoB,KAAK,KAAP,EAPrB,EAQErB,EARF,CAQKR,MARL,EAQa,EARb,EAQiB,EAAEoB,OAAO,KAAT,EAAgBC,QAAQ,KAAxB,EARjB,EAQkD,MARlD,EASEhB,GATF,CASMJ,OATN,EASe,EAAEqB,YAAY,SAAd,EATf,EAS0C,UAT1C,EAUEd,EAVF,CAUKX,QAVL,EAUe,GAVf,EAUoB,EAAEU,aAAaX,WAAf,EAVpB,EAUkD,MAVlD,EAWES,GAXF,CAWM,CAACN,OAAD,EAAUC,MAAV,EAAkBH,QAAlB,EAA4BC,aAA5B,EAA2CG,OAA3C,CAXN,EAW2D,EAAEgB,YAAY,KAAd,EAX3D,EAYEF,GAZF,CAYM,MAAM;AACVlB,YAAS0B,GAAT,CAAa,OAAb,EAAsBrB,QAAtB;AACA,GAdF;AAeA,EAlBD;;AAoBA,OAAMuB,gBAAiBK,OAAD,IAAa;;AAElC,QACCC,YAAYjC,cAAckC,IAAd,CAAmB,IAAnB,CADb;AAAA,QAECC,UAAU,IAAI7B,WAAJ,EAFX;;AAIA,MAAI0B,OAAJ,EAAa;AACZG,WAAQ5B,GAAR,CAAY0B,SAAZ,EAAuB,EAAEzB,SAAS,OAAX,EAAvB,EACE4B,SADF,CACYH,SADZ,EACuB,EADvB,EAC2B,EAAEI,SAAS,EAAX,EAD3B,EAC4C,EAD5C,EACgD,OADhD,EAEEC,WAFF,CAEcL,SAFd,EAEyB,EAFzB,EAE6B,EAAEjB,GAAG,KAAL,EAF7B,EAE4C,EAF5C,EAEgD,OAFhD,EAGEoB,SAHF,CAGYH,SAHZ,EAGuB,EAHvB,EAG2B,EAAEI,SAAS,CAAX,EAH3B,EAG2C,EAH3C,EAG+C,WAH/C;AAIA,GALD,MAKO;AACNF,WACEC,SADF,CACYH,SADZ,EACuB,EADvB,EAC2B,EAAEI,SAAS,EAAX,EAD3B,EAC4C,CAAC,EAD7C,EACiD,OADjD,EAEED,SAFF,CAEYH,SAFZ,EAEuB,EAFvB,EAE2B,EAAEjB,GAAG,KAAL,EAF3B,EAE0C,CAAC,EAF3C,EAE+C,OAF/C,EAGEoB,SAHF,CAGYH,SAHZ,EAGuB,EAHvB,EAG2B,EAAEI,SAAS,CAAX,EAH3B,EAG2C,CAAC,EAH5C,EAGgD,WAHhD,EAIE9B,GAJF,CAIM0B,SAJN,EAIiB,EAAEd,YAAY,KAAd,EAJjB;AAKA;AACD,EAlBD;;AAqBApB,UAAS0B,GAAT,CAAa,OAAb,EAAsBrB,QAAtB;;AAEA;;AAEA,OAAMmC,WAAYC,CAAD,IAAO;;AAEvBA,IAAEC,cAAF;AACA,QACCC,MAAMF,EAAEG,aAAF,CAAgBC,IADvB;AAAA,QAECvB,aAAapD,EAAE,UAAF,CAFd;AAAA,QAGC4E,YAAY,IAAIvC,WAAJ,EAHb;;AAKAuC,YACEnC,EADF,CACKW,UADL,EACiB,EADjB,EACqB,EAAEL,GAAG,IAAL,EAAWqB,SAAS,CAApB,EADrB,EAEEpB,GAFF,CAEM,MAAMtD,OAAOmF,QAAP,CAAgBF,IAAhB,GAAuBF,GAFnC;AAGA,EAXD;;AAaA;;AAEA,KAAIK,kBAAkB,KAAtB;AACA,OAAMC,eAAe,MAAM;;AAE1B,QACCC,aAAahF,EAAE,yBAAF,CADd;AAAA,QAECiF,YAAYjF,EAAE,wBAAF,CAFb;AAAA,QAGCkF,gBAAgBlF,EAAE,uBAAF,CAHjB;AAAA,QAICoD,aAAapD,EAAE,UAAF,CAJd;AAAA,QAKCmF,KAAK,IAAI9C,WAAJ,EALN;;AAOA8C,KACE7C,GADF,CACM,CAACc,UAAD,EAAa8B,aAAb,CADN,EACmC,EAAE9B,YAAY,aAAd,EADnC,EAEEX,EAFF,CAEKyC,aAFL,EAEoB,EAFpB,EAEwB,EAAEE,WAAW,CAAb,EAFxB,EAE0C,SAF1C,EAGE3C,EAHF,CAGKuC,UAHL,EAGiB,EAHjB,EAGqB,EAAE3B,OAAO,CAAT,EAHrB,EAGmC,SAHnC,EAIEZ,EAJF,CAIKwC,SAJL,EAIgB,EAJhB,EAIoB,EAAE5B,OAAO,OAAT,EAJpB,EAIwC,SAJxC,EAKEf,GALF,CAKMc,UALN,EAKkB,EAAEL,GAAG,MAAL,EAAaqB,SAAS,CAAtB,EALlB,EAME9B,GANF,CAMM,CAACc,UAAD,EAAa8B,aAAb,CANN,EAMmC,EAAE9B,YAAY1B,iBAAd,EANnC,EAOEsB,GAPF,CAOM,MAAM8B,kBAAkB,IAP9B;AAQA,EAjBD;;AAmBAC;;AAGA;;AAEA/E,GAAE,GAAF,EAAOqF,EAAP,CAAU,OAAV,EAAmBf,QAAnB;;AAEA;;AAEA,KAAItE,EAAE,YAAF,EAAgBQ,MAApB,EAA4B;;AAE3B,QAAM8E,YAAY,MAAM;;AAEvB,OAAIR,eAAJ,EAAqB;;AAEpB,UAAMS,SAASvF,EAAE,oBAAF,CAAf;AACA,UAAMwF,SAASxF,EAAE,cAAF,CAAf;AACA,UAAMyF,UAAU,IAAIpD,WAAJ,EAAhB;AACA,UAAMqD,aAAa3F,kBAAkB,IAAlB,GAAyB,IAAzB,GAAgC,CAAnD;;AAEA0F,YACEhD,EADF,CACK8C,MADL,EACa,EADb,EACiB,EAAElC,OAAO,MAAT,EAAiBsC,MAAM,GAAvB,EADjB,EAEElD,EAFF,CAEK8C,OAAOK,MAAP,EAFL,EAEsB,CAFtB,EAEyB,EAAEF,YAAYA,UAAd,EAA0BG,aAAa,MAAvC,EAA+CjD,MAAMkD,OAAOC,SAA5D,EAFzB,EAGE/C,GAHF,CAGMgD,WAHN,EAIE1D,GAJF,CAIMkD,MAJN,EAIc,EAAEpB,SAAS,IAAX,EAJd,EAKE6B,IALF,CAKOT,MALP,EAKe,CALf,EAKkB,EAAEpB,SAAS,CAAX,EAAcxB,MAAMkD,OAAOI,OAA3B,EALlB,EAKwD,YALxD,EAMED,IANF,CAMOT,MANP,EAMe,CANf,EAMkB,EAAEW,GAAG,OAAL,EAAcvD,MAAMkD,OAAOI,OAA3B,EANlB,EAMwD,OANxD,EAOEtC,WAPF,CAOc,MAAM;;AAElB;AACA,SAAI1D,UAAUkG,UAAV,IAAwBlG,UAAUmG,eAAlC,IAAqD,CAAC5G,gBAA1D,EAA4E6G;AAC5E,KAXF,EAWI,UAXJ;;AAaA,QAAI,CAACpG,UAAUqG,kBAAf,EAAmCvG,EAAE,SAAF,EAAawG,IAAb;AAEnC,IAtBD,MAsBOC,WAAWnB,SAAX,EAAsB,GAAtB;AAEP,GA1BD;;AA4BA;;AAEA,QAAMU,cAAc,MAAM;;AAEzB,SAAMU,WAAW3G,kBAAkB,IAAlB,GAAyB,WAAzB,GAAuC,kBAAxD;AACA,SAAM4G,QAAQ,IAAIC,KAAJ,EAAd;AACAD,SAAME,GAAN,GAAY,eAAeH,QAA3B;AACAC,SAAMG,MAAN,GAAe,MAAM9G,EAAE,cAAF,EAAkB+G,MAAlB,CAAyBJ,KAAzB,CAArB;AAEA,GAPD;;AASA;;AAEA,QAAML,oBAAoB,MAAM;;AAE/B;;AAEA,SAAMU,QAAQhH,EAAE,oBAAF,CAAd;AACA,SAAMiH,QAAQjH,EAAE,cAAF,CAAd;;AAEA;;AAEA,SAAMkH,QAAQ;AACbC,QAAI,CADS;AAEbC,QAAI,CAFS;AAGbjB,OAAG,CAHU;AAIbpD,OAAG,CAJU;AAKbsE,oBAAgB,UAAUC,KAAV,EAAiB;AAChC,WAAM/C,IAAI+C,SAAS5H,OAAO4H,KAA1B;AACA,UAAKnB,CAAL,GAAS5B,EAAEgD,OAAF,GAAY,KAAKJ,EAA1B;AACA,UAAKpE,CAAL,GAAS,CAACwB,EAAEiD,OAAF,GAAY,KAAKJ,EAAlB,IAAwB,CAAC,CAAlC;AACA,KATY;AAUbK,eAAW,UAAUlD,CAAV,EAAa;AACvB,UAAK4C,EAAL,GAAU5C,EAAEmD,MAAF,GAAW/B,IAAX,GAAkBgC,KAAKC,KAAL,CAAWrD,EAAEtE,UAAF,KAAiB,CAA5B,CAA5B;AACA,UAAKmH,EAAL,GAAU7C,EAAEmD,MAAF,GAAW5D,GAAX,GAAiB6D,KAAKC,KAAL,CAAWrD,EAAEsD,WAAF,KAAkB,CAA7B,CAA3B;AACA;AAbY,IAAd;;AAgBA;;AAEAX,SAAMO,SAAN,CAAgBT,KAAhB;;AAEA;;AAEA,SAAMc,sBAAuBR,KAAD,IAAW;AACtCS,WAAOT,KAAP;AACA,IAFD;;AAIA;;AAEA,SAAMU,sBAAsB,MAAM;AACjCC,aAASxF,EAAT,CAAYwE,KAAZ,EAAmB,EAAnB,EAAuB,EAAEiB,WAAW,CAAb,EAAgBC,WAAW,CAA3B,EAAvB;AACA,IAFD;;AAIA;;AAEA,SAAMC,qBAAsBd,KAAD,IAAW;;AAErC,QAAIe,gBAAJ,EAAsB;AACrBN,YAAOT,KAAP;AACA;AACD,IALD;;AAOA;;AAEA,SAAMS,SAAUT,KAAD,IAAW;AACzBJ,UAAMG,cAAN,CAAqBC,KAArB;;AAEAgB,sBACC,CAACpB,MAAMnE,CAAN,GAAUkE,MAAMY,WAAN,EAAV,GAAgC,CAAjC,EAAoCU,OAApC,CAA4C,CAA5C,CADD,EAEC,CAACrB,MAAMf,CAAN,GAAUc,MAAMhH,UAAN,EAAV,GAA+B,CAAhC,EAAmCsI,OAAnC,CAA2C,CAA3C,CAFD;AAIA,IAPD;;AASA;AACA,SAAMD,oBAAoB,UAAUnC,CAAV,EAAapD,CAAb,EAAgB;AACzCkF,aAASxF,EAAT,CAAYwE,KAAZ,EAAmB,EAAnB,EAAuB,EAAEiB,WAAW/B,CAAb,EAAgBgC,WAAWpF,CAA3B,EAAvB;AACA,IAFD;;AAIA;;AAEA,OAAIyF,UAAU,CAAd;AACA,SAAMC,aAAa,EAAnB;;AAEA,SAAMJ,iBAAiB,YAAY;AAClC,WAAOG,YAAYC,UAAZ,KAA2B,CAAlC;AACA,IAFD;;AAIA;;AAEAzB,SAAM3B,EAAN,CAAS,YAAT,EAAuByC,mBAAvB;AACAd,SAAM3B,EAAN,CAAS,YAAT,EAAuB2C,mBAAvB;AACAhB,SAAM3B,EAAN,CAAS,WAAT,EAAsB+C,kBAAtB;AACA,GAhFD;;AAkFA;AACA9C;AACA;AAID,CAnRD","file":"main.js","sourcesContent":["/* utility functions */\n\nconst isMobileDevice = () => {\n\treturn (typeof window.orientation !== 'undefined') || (navigator.userAgent.indexOf('IEMobile') !== -1);\n};\nconst viewPortWidth = () => {\n\treturn $(window).outerWidth();\n};\n/* Update Modernizr to recognize support for CSS clip-path polygon */\n(function (Modernizr) {\n\n\t// Here are all the values we will test. If you want to use just one or two, comment out the lines of test you don't need.\n\tvar tests = [\n\t\t{ name: 'polygon', value: 'polygon(50% 0%, 0% 100%, 100% 100%)' }\n\t];\n\n\tvar t = 0,\n\t\tname, value, prop;\n\n\tfor (; t < tests.length; t++) {\n\t\tname = tests[t].name;\n\t\tvalue = tests[t].value;\n\t\tModernizr.addTest('cssclippath' + name, function () {\n\t\t\t// Try using window.CSS.supports\n\t\t\tif ('CSS' in window && 'supports' in window.CSS) {\n\t\t\t\tfor (var i = 0; i < Modernizr._prefixes.length; i++) {\n\t\t\t\t\tprop = Modernizr._prefixes[i] + 'clip-path';\n\n\t\t\t\t\tif (window.CSS.supports(prop, value)) { return true; }\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Otherwise, use Modernizr.testStyles and examine the property manually\n\t\t\treturn Modernizr.testStyles('#modernizr { ' + Modernizr._prefixes.join('clip-path:' + value + '; ') + ' }', function (elem) {\n\t\t\t\tvar style = getComputedStyle(elem),\n\t\t\t\t\tclip = style.clipPath;\n\n\t\t\t\tif (!clip || clip == 'none') {\n\t\t\t\t\tclip = false;\n\n\t\t\t\t\tfor (var i = 0; i < Modernizr._domPrefixes.length; i++) {\n\t\t\t\t\t\ttest = Modernizr._domPrefixes[i] + 'ClipPath';\n\t\t\t\t\t\tif (style[test] && style[test] !== 'none') {\n\t\t\t\t\t\t\tclip = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn Modernizr.testProp('clipPath') && clip;\n\t\t\t});\n\t\t});\n\n\t}\n\n})(Modernizr);\n\n$(document).ready(function () {\n\n\t/* Colors to use on the page */\n\n\tconst\n\t\t$darkerBackground = '#242424',\n\t\t$baseBackground = '#2d2d2d',\n\t\t$baseWhite = '#fafafa',\n\t\t$baseYellow = '#f1bd00';\n\n\t/* Menu items to manipulate */\n\n\tconst\n\t\tmenuIcon = $('#menu'),\n\t\tmenuContainer = $('.menu-container'),\n\t\tmenuBar = $('#menu .bar'),\n\t\tmenuBg = $('.menu-bg'),\n\t\tlogoNav = $('#logo-nav');\n\n\t/* Open menu sequence */\n\n\tconst openMenu = () => {\n\t\tconst tlOpenMenu = new TimelineMax();\n\n\t\t/* complex menu navigation */\n\n\t\ttlOpenMenu\n\t\t\t.set(menuContainer, { display: 'flex' })\n\t\t\t.set(menuIcon, { borderColor: $baseWhite })\n\t\t\t.to(menuBar.eq(0), .4, { z: -10, ease: Power0.easeNone }, 'translateZ')\n\t\t\t.to(menuBar.eq(1), .4, { z: -5, ease: Power0.easeNone }, 'translateZ')\n\t\t\t.to(menuBar.eq(0), .2, { y: '-390%', ease: Power0.easeNone }, 'equal+=.2')\n\t\t\t.to(menuBar.eq(2), .2, { y: '290%', ease: Power0.easeNone }, 'equal+=.2')\n\t\t\t.add(() => {\n\t\t\t\tmenuBar.css('transform', '');\n\t\t\t\tmenuBar.css('top', '50%');\n\t\t\t})\n\t\t\t.set(menuBar, { clearProps: 'z' })\n\t\t\t.to(menuBar.eq(2), .3, { rotation: 45, background: $baseYellow, ease: Power0.easeNone }, 'rotate')\n\t\t\t.to(menuBar.eq(1), .3, { rotation: -45, background: $baseYellow, ease: Power0.easeNone }, 'rotate')\n\t\t\t.to(menuBar.eq(0), .3, { rotation: 45, background: $baseYellow, ease: Power0.easeNone }, 'rotate')\n\t\t\t.to(menuBg, .8, { width: '200%', height: '200%' }, 'background-=.3')\n\t\t\t.to(menuIcon, .05, { borderColor: $baseBackground }, 'background-=.3')\n\t\t\t.set(logoNav, { visibility: 'hidden' }, 'background-=.45')\n\t\t\t.add(() => {\n\t\t\t\t// create event to close the nav\n\t\t\t\tmenuIcon.one('click', closeMenu);\n\t\t\t\tshowMenuItems(true);\n\t\t\t});\n\n\n\t};\n\n\t/* Close menu sequence */\n\n\tconst closeMenu = () => {\n\t\tconst tmCloseMenu = new TimelineMax();\n\n\t\ttmCloseMenu\n\t\t\t.addCallback(() => showMenuItems(false),'+=.5') //without arrow function here callback stops timeline\n\t\t\t.to(menuBar.eq(2), .3, { rotation: 0, background: $baseWhite, ease: Power0.easeNone }, 'rotation+=1')\n\t\t\t.to(menuBar.eq(1), .3, { rotation: 0, background: $baseWhite, ease: Power0.easeNone }, 'rotation+=1')\n\t\t\t.to(menuBar.eq(0), .3, { rotation: 0, background: $baseWhite, ease: Power0.easeNone }, 'rotation+=1')\n\t\t\t.set(menuBar, { transition: 'all .5s' })\n\t\t\t.set(menuBar.eq(0), { top: '67%' })\n\t\t\t.set(menuBar.eq(2), { top: '33%' })\n\t\t\t.to(menuBg, .6, { width: '50%', height: '50%' }, 'hide')\n\t\t\t.set(logoNav, { visibility: 'visible' }, 'hide+=.1')\n\t\t\t.to(menuIcon, 0.2, { borderColor: $baseYellow }, '-=.4')\n\t\t\t.set([menuBar, menuBg, menuIcon, menuContainer, logoNav], { clearProps: 'all' })\n\t\t\t.add(() => {\n\t\t\t\tmenuIcon.one('click', openMenu);\n\t\t\t});\n\t};\n\n\tconst showMenuItems = (boolean) => {\n\n\t\tconst\n\t\t\tmenuItems = menuContainer.find('li'),\n\t\t\ttlItems = new TimelineMax();\n\n\t\tif (boolean) {\n\t\t\ttlItems.set(menuItems, { display: 'block' })\n\t\t\t\t.staggerTo(menuItems, .4, { opacity: .2 }, .2, 'items')\n\t\t\t\t.staggerFrom(menuItems, .8, { y: '30%', }, .2, 'items')\n\t\t\t\t.staggerTo(menuItems, .4, { opacity: 1 }, .2, 'items+=.4');\n\t\t} else {\n\t\t\ttlItems\n\t\t\t\t.staggerTo(menuItems, .4, { opacity: .2 }, -.2, 'items')\n\t\t\t\t.staggerTo(menuItems, .8, { y: '30%', }, -.2, 'items')\n\t\t\t\t.staggerTo(menuItems, .4, { opacity: 0 }, -.2, 'items+=.4')\n\t\t\t\t.set(menuItems, { clearProps: 'all' });\n\t\t}\n\t};\n\n\n\tmenuIcon.one('click', openMenu);\n\n\t/* glimpse animation then change page */\n\n\tconst redirect = (e) => {\n\n\t\te.preventDefault();\n\t\tconst\n\t\t\turl = e.currentTarget.href,\n\t\t\tbackground = $('.glimpse'),\n\t\t\ttlGlimpse = new TimelineMax();\n\n\t\ttlGlimpse\n\t\t\t.to(background, .5, { y: '0%', opacity: 1 })\n\t\t\t.add(() => window.location.href = url);\n\t};\n\n\t/* Background animation - playing after each subpage loaded */\n\n\tlet bgTransitionEnd = false;\n\tconst bgTransition = () => {\n\n\t\tconst\n\t\t\tcolumnEven = $('.column:nth-child(even)'),\n\t\t\tcolumnOdd = $('.column:nth-child(odd)'),\n\t\t\tcolumnWrapper = $('.glimpse .column-wrap'),\n\t\t\tbackground = $('.glimpse'),\n\t\t\ttm = new TimelineMax();\n\n\t\ttm\n\t\t\t.set([background, columnWrapper], { background: 'transparent' })\n\t\t\t.to(columnWrapper, .6, { rotationZ: 0 }, 'synchro')\n\t\t\t.to(columnEven, .6, { width: 0 }, 'synchro')\n\t\t\t.to(columnOdd, .6, { width: '12.5%' }, 'synchro')\n\t\t\t.set(background, { y: '100%', opacity: 0 })\n\t\t\t.set([background, columnWrapper], { background: $darkerBackground })\n\t\t\t.add(() => bgTransitionEnd = true);\n\t};\n\n\tbgTransition();\n\n\n\t/* Set default link behaviour */\n\n\t$('a').on('click', redirect);\n\n\t/* about.html code */\n\n\tif ($('body#about').length) {\n\n\t\tconst showAside = () => {\n\n\t\t\tif (bgTransitionEnd) {\n\n\t\t\t\tconst $panel = $('#about-right-panel');\n\t\t\t\tconst $image = $('.img-wrapper');\n\t\t\t\tconst tlPanel = new TimelineMax();\n\t\t\t\tconst marginLeft = viewPortWidth() > 1024 ? '5%' : 0;\n\n\t\t\t\ttlPanel\n\t\t\t\t\t.to($panel, .4, { width: '100%', left: '0' })\n\t\t\t\t\t.to($panel.parent(), 1, { marginLeft: marginLeft, marginRight: 'auto', ease: Power3.easeInOut })\n\t\t\t\t\t.add(appendImage)\n\t\t\t\t\t.set($image, { opacity: 0.05 })\n\t\t\t\t\t.from($image, 3, { opacity: 0, ease: Power3.easeOut }, 'image+=0.2')\n\t\t\t\t\t.from($image, 1, { x: '-100%', ease: Power3.easeOut }, 'image')\n\t\t\t\t\t.addCallback(() => {\n\n\t\t\t\t\t\t// call this function only if  not on mobile and with 3d support\n\t\t\t\t\t\tif (Modernizr.preserve3d && Modernizr.csstransforms3d && !isMobileDevice()) mouseOver3dEffect();\n\t\t\t\t\t}, 'image+=1');\n\n\t\t\t\tif (!Modernizr.cssclippathpolygon) $('.glitch').hide();\n\n\t\t\t} else setTimeout(showAside, 200);\n\n\t\t};\n\n\t\t/* load right image version after is loaded */\n\n\t\tconst appendImage = () => {\n\n\t\t\tconst imageUrl = viewPortWidth() > 1024 ? 'about.jpg' : 'about-mobile.jpg';\n\t\t\tconst image = new Image();\n\t\t\timage.src = '../images/' + imageUrl;\n\t\t\timage.onload = () => $('.img-wrapper').append(image);\n\n\t\t};\n\n\t\t/* 3d rotation of image on mouse over */\n\n\t\tconst mouseOver3dEffect = () => {\n\n\t\t\t/* Elements  */\n\n\t\t\tconst outer = $('.img-wrapper-outer');\n\t\t\tconst inner = $('.img-wrapper');\n\n\t\t\t/* Mouse object: _x and _y: center of the image offset coordinates; x and y mouse event offset from center of the image */\n\n\t\t\tconst mouse = {\n\t\t\t\t_x: 0,\n\t\t\t\t_y: 0,\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\tupdatePosition: function (event) {\n\t\t\t\t\tconst e = event || window.event;\n\t\t\t\t\tthis.x = e.clientX - this._x;\n\t\t\t\t\tthis.y = (e.clientY - this._y) * -1;\n\t\t\t\t},\n\t\t\t\tsetOrigin: function (e) {\n\t\t\t\t\tthis._x = e.offset().left + Math.floor(e.outerWidth() / 2);\n\t\t\t\t\tthis._y = e.offset().top + Math.floor(e.outerHeight() / 2);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/* calculate central point of image relative to page */\n\n\t\t\tmouse.setOrigin(outer);\n\n\t\t\t/* Initial rotation */\n\n\t\t\tconst onMouseEnterHandler = (event) => {\n\t\t\t\tupdate(event);\n\t\t\t};\n\n\t\t\t/* Reset rotation */\n\n\t\t\tconst onMouseLeaveHandler = () => {\n\t\t\t\tTweenMax.to(inner, .5, { rotationX: 0, rotationY: 0 });\n\t\t\t};\n\n\t\t\t/* Update rotation every once a while on mousemove */\n\n\t\t\tconst onMouseMoveHandler = (event) => {\n\n\t\t\t\tif (isTimeToUpdate()) {\n\t\t\t\t\tupdate(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/* Actual update here */\n\n\t\t\tconst update = (event) => {\n\t\t\t\tmouse.updatePosition(event);\n\n\t\t\t\ttransformRotation(\n\t\t\t\t\t(mouse.y / inner.outerHeight() / 2).toFixed(2),\n\t\t\t\t\t(mouse.x / inner.outerWidth() / 2).toFixed(2)\n\t\t\t\t);\n\t\t\t};\n\n\t\t\t/* Apply styles */\n\t\t\tconst transformRotation = function (x, y) {\n\t\t\t\tTweenMax.to(inner, .4, { rotationX: x, rotationY: y });\n\t\t\t};\n\n\t\t\t/* Prevent Updating every milisecond */\n\n\t\t\tlet counter = 0;\n\t\t\tconst updateRate = 10;\n\n\t\t\tconst isTimeToUpdate = function () {\n\t\t\t\treturn counter++ % updateRate === 0;\n\t\t\t};\n\n\t\t\t/* Event Listeners */\n\n\t\t\touter.on('mouseenter', onMouseEnterHandler);\n\t\t\touter.on('mouseleave', onMouseLeaveHandler);\n\t\t\touter.on('mousemove', onMouseMoveHandler);\n\t\t};\n\n\t\t/* Init functions */\n\t\tshowAside();\n\t}\n\n\n\n});\n\n"]}