{"version":3,"sources":["skills.js"],"names":["_rotationSpeed","Symbol","_clickedId","_easing","_speedMeasure","_motionData","_dynamicContent","_calculateEntryValues","_computeEasing","_computeRotatingTime","_applyEasing","_computeAvgSpeed","_getTargetAngle","_shouldChangeDirection","_restoreAnimation","_accelerate","HtmlElement","constructor","element","copy","clone","remove","append","parent","Slider","speed","baseSpeed","faces","children","start","undefined","stop","lastMeasuredAngle","speedArr","avgSpeed","isAboutToStop","angleWhenClicked","currentAngle","targetAngle","move","$","mqMobile","window","matchMedia","swiper","Modernizr","csstransforms3d","preserve3d","matches","Swiper","navigation","nextEl","prevEl","allowTouchMove","addClass","addListener","location","reload","skillsHandler","el","counter","tlSkills","TimelineMax","paused","slide","techLists","find","skillsLists","svgclippaths","icon","buttons","inProgress","length","fromTo","scale","autoAlpha","opacity","staggerFromTo","cycle","ease","i","Back","easeOut","config","get","reverse","each","ind","e","stars","set","y","Bounce","loaders","repeat","width","Number","data","Power0","easeNone","startAnimFrom","isActive","time","toFixed","getLabelTime","play","frontHandler","front2Handler","rightHandler","right2Handler","backHandler","back2Handler","leftHandler","on","event","stopPropagation","tl3dSlider"],"mappings":"AAAA;;AAEA;;AAEA,MACCA,iBAAiBC,OAAO,eAAP,CADlB;AAAA,MAECC,aAAaD,OAAO,WAAP,CAFd;AAAA,MAGCE,UAAUF,OAAO,QAAP,CAHX;AAAA,MAICG,gBAAgBH,OAAO,cAAP,CAJjB;AAAA,MAKCI,cAAcJ,OAAO,YAAP,CALf;AAAA,MAMCK,kBAAkBL,OAAO,gBAAP,CANnB;AAAA,MAOCM,wBAAwBN,OAAO,sBAAP,CAPzB;AAAA,MAQCO,iBAAiBP,OAAO,eAAP,CARlB;AAAA,MASCQ,uBAAuBR,OAAO,sBAAP,CATxB;AAAA,MAUCS,eAAeT,OAAO,aAAP,CAVhB;AAAA,MAWCU,mBAAmBV,OAAO,iBAAP,CAXpB;AAAA,MAYCW,kBAAkBX,OAAO,gBAAP,CAZnB;AAAA,MAaCY,yBAAyBZ,OAAO,uBAAP,CAb1B;AAAA,MAcCa,oBAAoBb,OAAO,kBAAP,CAdrB;AAAA,MAeCc,cAAcd,OAAO,YAAP,CAff;AAgBA;;AAEA,MAAMe,WAAN,CAAkB;AACjBC,aAAYC,OAAZ,EAAqB;AACpB,OAAKA,OAAL,GAAeA,OAAf;AACA;AACDC,QAAO;AACN,SAAO,KAAKD,OAAL,CAAaE,KAAb,EAAP;AACA;AACDC,UAAS;AACR,OAAKH,OAAL,CAAaG,MAAb;AACA;AACDC,QAAOC,MAAP,EAAe;AACd,OAAKL,OAAL,CAAaI,MAAb,CAAoBC,MAApB;AACA;AAZgB;;AAelB,MAAMC,MAAN,SAAqBR,WAArB,CAAiC;AAChCC,aAAYC,OAAZ,EAAqBO,QAAQ,EAA7B,EAAiC;AAChC,QAAMP,OAAN;;AAEA,OAAKQ,SAAL,GAAiBD,QAAQ,CAAR,GAAY,CAAZ,GAAgBA,KAAjC;AACA,OAAKE,KAAL,GAAa,KAAKT,OAAL,CAAaU,QAAb,CAAsB,eAAtB,CAAb;;AAEA,OAAK5B,cAAL,IAAuByB,QAAQ,CAAR,GAAY,CAAZ,GAAgBA,KAAvC;AACA,OAAKvB,UAAL,IAAmB,EAAnB;AACA,OAAKC,OAAL,IAAgB,EAAhB;AACA,OAAKC,aAAL,IAAsB;AACrByB,UAAOC,SADc;AAErBC,SAAMD,SAFe;AAGrBE,sBAAmBF,SAHE;AAIrBG,aAAU,EAJW;AAKrBC,aAAUJ;AALW,GAAtB;AAOA,OAAKzB,WAAL,IAAoB;AACnB8B,kBAAe,KADI;AAEnBC,qBAAkBN,SAFC;AAGnBO,iBAAc,CAHK;AAInBC,gBAAaR,SAJM;AAKnBS,SAAM;AALa,GAApB;AAOA;AAxB+B;;AA2BjCC,EAAE,MAAM;AACP;;AAEA,OAAMC,WAAWC,OAAOC,UAAP,CAAkB,qBAAlB,CAAjB;AACA,KAAIC,MAAJ;;AAEA;;AAEA,KAAI,CAACC,UAAUC,eAAX,IAA8B,CAACD,UAAUE,UAAzC,IAAuDN,SAASO,OAApE,EAA6E;;AAE5E;;AAEAJ,WAAS,IAAIK,MAAJ,CAAW,mBAAX,EAAgC;AACxCC,eAAY;AACXC,YAAQ,qBADG;AAEXC,YAAQ;AAFG;AAD4B,GAAhC,CAAT;AAMAR,SAAOS,cAAP,GAAwB,KAAxB;AAEA,EAZD,MAYO;AACN;;AAEAb,IAAE,iBAAF,EAAqBc,QAArB,CAA8B,KAA9B;;AAEA;;AAEAb,WAASc,WAAT,CAAqB,MAAM;AAC1Bb,UAAOc,QAAP,CAAgBC,MAAhB;AACA,GAFD;AAGA;;AAGD,OAAMC,gBAAiBC,EAAD,IAAQ;;AAE7B,MAAIC,UAAU,CAAd;;AAEA;;AAEA,QACCC,WAAW,IAAIC,WAAJ,CAAgB,EAAEC,QAAQ,IAAV,EAAhB,CADZ;AAAA,QAECC,QAAQxB,EAAEmB,EAAF,CAFT;AAAA,QAGCM,YAAYD,MAAME,IAAN,CAAW,WAAX,CAHb;AAAA,QAICC,cAActB,UAAUuB,YAAV,GAAyBJ,MAAME,IAAN,CAAW,cAAX,CAAzB,GAAsDF,MAAME,IAAN,CAAW,eAAX,CAJrE;AAAA,QAKCG,OAAOL,MAAME,IAAN,CAAW,eAAX,CALR;AAAA,QAMCI,UAAU9B,EAAE,yCAAF,CANX;AAAA,QAOC+B,aAAaP,MAAME,IAAN,CAAW,aAAX,CAPd;;AASA,MAAI1B,EAAE,qBAAF,EAAyBgC,MAAzB,GAAkC,CAAtC,EAAyC;AACxC;AACAX,YAASY,MAAT,CAAgBT,KAAhB,EAAuB,CAAvB,EAA0B,EAAEU,OAAO,EAAT,EAA1B,EAAyC,EAAEA,OAAO,CAAT,EAAzC,EAAuD,YAAvD;AACA,GAHD,MAGO;AACN;AACAb,YAASY,MAAT,CAAgBH,OAAhB,EAAyB,CAAzB,EAA4B,EAAEK,WAAW,CAAb,EAA5B,EAA8C,EAAEA,WAAW,CAAb,EAA9C,EAAgE,YAAhE;AACA;;AAEDd,WACEY,MADF,CACSJ,IADT,EACe,CADf,EACkB,EAAEO,SAAS,CAAX,EAAc,UAAU,eAAxB,EADlB,EAC6D,EAAEA,SAAS,GAAX,EAAgB,UAAU,gBAA1B,EAD7D,EAC2G,YAD3G,EAEEC,aAFF,CAEgBZ,SAFhB,EAE2B,EAF3B,EAE+B,EAAES,OAAO,EAAT,EAAaE,SAAS,CAAtB,EAF/B,EAE0D;AACxDF,UAAO,CADiD;AAExDE,YAAS,CAF+C;AAGxDE,UAAO;AACNC,UAAOC,CAAD,IAAOC,KAAKC,OAAL,CAAaC,MAAb,CAAoBH,IAAI,CAAxB;AADP;AAHiD,GAF1D,EAQI,EARJ,EAQQ,aARR;;AAUA;;AAEAxC,IAAE2B,YAAYiB,GAAZ,GAAkBC,OAAlB,EAAF,EAA+BC,IAA/B,CAAoC,CAACC,GAAD,EAAMC,CAAN,KAAY;AAC/C,SAAMC,QAAQjD,EAAEgD,CAAF,EAAKtB,IAAL,CAAU,OAAV,CAAd;AAAA,SACCY,QAAQS,MAAM,CAAN,GAAU,CAAC,EAAX,GAAgB,EADzB;;AAGA1B,YACE6B,GADF,CACMF,CADN,EACS,EAAEZ,SAAS,CAAX,EADT,EAC0B,UAASW,MAAM,EAAG,EAD5C,EAEEV,aAFF,CAEgBY,KAFhB,EAEuB,EAFvB,EAE2B;AACzBE,OAAG,CAAC,GADqB,EAChBf,SAAS;AADO,IAF3B,EAII,EAAEe,GAAG,CAAL,EAAQf,SAAS,CAAjB,EAAoBG,MAAMa,OAAOV,OAAjC,EAJJ,EAIgDJ,KAJhD,EAIwD,UAASS,MAAM,EAAG,EAJ1E;AAMA,GAVD;;AAYA;;AAEA,MAAIhB,WAAWC,MAAX,GAAoB,CAAxB,EAA2B;AAC1BD,cAAWe,IAAX,CAAgB,CAACC,GAAD,EAAMC,CAAN,KAAY;AAC3B,UAAMK,UAAUrD,EAAEgD,CAAF,EAAKtB,IAAL,CAAU,SAAV,CAAhB;;AAEAL,aACE6B,GADF,CACMF,CADN,EACS,EAAEZ,SAAS,CAAX,EADT,EACyB,OADzB,EAEEC,aAFF,CAEgBgB,OAFhB,EAEyB,CAFzB,EAE4B;AAC1Bf,YAAO;AACNF,eAAS,CAAC,CAAD,EAAI,CAAJ;AADH;AADmB,KAF5B,EAMI;AACDE,YAAO;AACNF,eAAS,CAAC,CAAD,EAAI,CAAJ;AADH,MADN;AAIDkB,aAAQ,CAAC;AAJR,KANJ,EAWK,EAXL,EAWS,OAXT;AAYA,IAfD;AAgBA;;AAED;AACA,MAAIjD,UAAUuB,YAAd,EAA4B;;AAG3BP,YAASY,MAAT,CAAgBN,YAAYD,IAAZ,CAAiB,mBAAjB,CAAhB,EAAuD,EAAvD,EAA2D,EAAE6B,OAAO,IAAT,EAA3D,EAA4E;AAC3EA,WAAO,CAACf,CAAD,EAAIQ,CAAJ,KAAW,GAAEQ,OAAOxD,EAAEgD,CAAF,EAAKjE,MAAL,GAAcA,MAAd,GAAuB0E,IAAvB,CAA4B,OAA5B,CAAP,IAA+C,EAAG,GADK,EACDlB,MAAMmB,OAAOC;AADZ,IAA5E;AAGA;;AAED;;AAEA,SAAO,MAAM;;AAEZ;;AAEA,OAAIC,gBAAgBvC,SAASwC,QAAT,KAAsBL,OAAQnC,SAASyC,IAAT,EAAD,CAAkBC,OAAlB,CAA0B,CAA1B,CAAP,CAAtB,GAA6D,CAAjF;;AAEA;;AAEA3C,aAAU,CAAV,KAAgBwC,gBAAgBvC,SAAS2C,YAAT,CAAsB,OAAtB,CAAhB,IAAkDJ,kBAAkB,CAApF,IAAyFA,gBAAgBvC,SAAS2C,YAAT,CAAsB,OAAtB,CAAzG,GAA0I,IAA1I;;AAEA;;AAEA5C,aAAU,CAAV,GAAcC,SAASwB,OAAT,CAAiBe,aAAjB,CAAd,GAAgDvC,SAAS4C,IAAT,EAAhD;AACA7C;AAEA,GAfD;AAgBA,EA/FD;;AAiGA;AACA,OACC8C,eAAehD,cAAclB,EAAE,qBAAF,CAAd,CADhB;AAAA,OAECmE,gBAAgBjD,cAAclB,EAAE,uBAAF,CAAd,CAFjB;AAAA,OAGCoE,eAAelD,cAAclB,EAAE,qBAAF,CAAd,CAHhB;AAAA,OAICqE,gBAAgBnD,cAAclB,EAAE,uBAAF,CAAd,CAJjB;AAAA,OAKCsE,cAAcpD,cAAclB,EAAE,oBAAF,CAAd,CALf;AAAA,OAMCuE,eAAerD,cAAclB,EAAE,sBAAF,CAAd,CANhB;AAAA,OAOCwE,cAActD,cAAclB,EAAE,oBAAF,CAAd,CAPf;;AASA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;;AAEAA,GAAE,YAAF,EAAgByE,EAAhB,CAAmB,OAAnB,EAA6BC,KAAD,IAAW;AACtCA,QAAMC,eAAN;AACA,EAFD;;AAKA,OAAMC,aAAa,IAAItD,WAAJ,CAAgB,EAAEgC,QAAQ,CAAC,CAAX,EAAhB,CAAnB;;AAEA;AACA,CApLD","file":"skills.js","sourcesContent":["'use strict';\n\n/* Create symbols for emulate private class members */\n\nconst\n\t_rotationSpeed = Symbol('rotationSpeed'),\n\t_clickedId = Symbol('clickedId'),\n\t_easing = Symbol('easing'),\n\t_speedMeasure = Symbol('speedMeasure'),\n\t_motionData = Symbol('motionData'),\n\t_dynamicContent = Symbol('dynamicContent'),\n\t_calculateEntryValues = Symbol('calculateEntryValues'),\n\t_computeEasing = Symbol('computeEasing'),\n\t_computeRotatingTime = Symbol('_computeRotatingTime'),\n\t_applyEasing = Symbol('applyEasing'),\n\t_computeAvgSpeed = Symbol('computeAvgSpeed'),\n\t_getTargetAngle = Symbol('getTargetAngle'),\n\t_shouldChangeDirection = Symbol('shouldChangeDirection'),\n\t_restoreAnimation = Symbol('restoreAnimation'),\n\t_accelerate = Symbol('accelerate');\n/* Htlm element class */\n\nclass HtmlElement {\n\tconstructor(element) {\n\t\tthis.element = element;\n\t}\n\tcopy() {\n\t\treturn this.element.clone();\n\t}\n\tremove() {\n\t\tthis.element.remove();\n\t}\n\tappend(parent) {\n\t\tthis.element.append(parent);\n\t}\n}\n\nclass Slider extends HtmlElement {\n\tconstructor(element, speed = .7) {\n\t\tsuper(element);\n\n\t\tthis.baseSpeed = speed > 1 ? 1 : speed;\n\t\tthis.faces = this.element.children('.swiper-slide');\n\n\t\tthis[_rotationSpeed] = speed > 1 ? 1 : speed;\n\t\tthis[_clickedId] = '';\n\t\tthis[_easing] = [];\n\t\tthis[_speedMeasure] = {\n\t\t\tstart: undefined,\n\t\t\tstop: undefined,\n\t\t\tlastMeasuredAngle: undefined,\n\t\t\tspeedArr: [],\n\t\t\tavgSpeed: undefined\n\t\t};\n\t\tthis[_motionData] = {\n\t\t\tisAboutToStop: false,\n\t\t\tangleWhenClicked: undefined,\n\t\t\tcurrentAngle: 0,\n\t\t\ttargetAngle: undefined,\n\t\t\tmove: true\n\t\t};\n\t}\n}\n\n$(() => {\n\t/* Media query for smaller screens*/\n\n\tconst mqMobile = window.matchMedia('(max-width: 1023px)');\n\tlet swiper;\n\n\t/* Main condition: either swiper mode or 3d slider*/\n\n\tif (!Modernizr.csstransforms3d || !Modernizr.preserve3d || mqMobile.matches) {\n\n\t\t/* Swiper */\n\n\t\tswiper = new Swiper('.swiper-container', {\n\t\t\tnavigation: {\n\t\t\t\tnextEl: '.swiper-button-next',\n\t\t\t\tprevEl: '.swiper-button-prev',\n\t\t\t},\n\t\t});\n\t\tswiper.allowTouchMove = false;\n\n\t} else {\n\t\t/* 3d-slider */\n\n\t\t$('#skills-content').addClass('_3d');\n\n\t\t/* If in 3d mode reload page on matchmedia to change on flat */\n\n\t\tmqMobile.addListener(() => {\n\t\t\twindow.location.reload();\n\t\t});\n\t}\n\n\n\tconst skillsHandler = (el) => {\n\n\t\tlet counter = 0;\n\n\t\t// variables 1\n\n\t\tconst\n\t\t\ttlSkills = new TimelineMax({ paused: true }),\n\t\t\tslide = $(el),\n\t\t\ttechLists = slide.find('.techs li'),\n\t\t\tskillsLists = Modernizr.svgclippaths ? slide.find('.svg-clipped') : slide.find('.svg-fallback'),\n\t\t\ticon = slide.find('.icon-wrapper'),\n\t\t\tbuttons = $('.swiper-button-prev,.swiper-button-next'),\n\t\t\tinProgress = slide.find('.inProgress');\n\n\t\tif ($('#skills-content._3d').length > 0) {\n\t\t\t//3d layout\n\t\t\ttlSkills.fromTo(slide, 1, { scale: .8 }, { scale: 1 }, 'firstStage');\n\t\t} else {\n\t\t\t//swiper layout\n\t\t\ttlSkills.fromTo(buttons, 1, { autoAlpha: 1 }, { autoAlpha: 0 }, 'firstStage');\n\t\t}\n\n\t\ttlSkills\n\t\t\t.fromTo(icon, 1, { opacity: 1, 'filter': 'grayscale(0%)' }, { opacity: .05, 'filter': 'grayscale(90%)' }, 'firstStage')\n\t\t\t.staggerFromTo(techLists, .5, { scale: .3, opacity: 0 }, {\n\t\t\t\tscale: 1,\n\t\t\t\topacity: 1,\n\t\t\t\tcycle: {\n\t\t\t\t\tease: (i) => Back.easeOut.config(i * 3)\n\t\t\t\t}\n\t\t\t}, .1, 'secondStage');\n\n\t\t/* Here looping through techlists to create stagger efect for any given list length */\n\n\t\t$(skillsLists.get().reverse()).each((ind, e) => {\n\t\t\tconst stars = $(e).find('.star'),\n\t\t\t\tcycle = ind % 2 ? -.1 : .1;\n\n\t\t\ttlSkills\n\t\t\t\t.set(e, { opacity: 1 }, `synch+=${ind * .4}`)\n\t\t\t\t.staggerFromTo(stars, .4, {\n\t\t\t\t\ty: -800, opacity: 0\n\t\t\t\t}, { y: 0, opacity: 1, ease: Bounce.easeOut }, cycle, `synch+=${ind * .4}`);\n\n\t\t});\n\n\t\t/* inProgress li's have separate animation */\n\n\t\tif (inProgress.length > 0) {\n\t\t\tinProgress.each((ind, e) => {\n\t\t\t\tconst loaders = $(e).find('.loader');\n\n\t\t\t\ttlSkills\n\t\t\t\t\t.set(e, { opacity: 1 }, 'synch')\n\t\t\t\t\t.staggerFromTo(loaders, 1, {\n\t\t\t\t\t\tcycle: {\n\t\t\t\t\t\t\topacity: [0, 1]\n\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\t\tcycle: {\n\t\t\t\t\t\t\t\topacity: [1, 0]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\trepeat: -1\n\t\t\t\t\t\t}, .2, 'synch');\n\t\t\t});\n\t\t}\n\n\t\t/* Last Part of animation only if svg-clipPath is supported */\n\t\tif (Modernizr.svgclippaths) {\n\n\n\t\t\ttlSkills.fromTo(skillsLists.find('#stars-background'), .7, { width: '0%' }, {\n\t\t\t\twidth: (i, e) => `${Number($(e).parent().parent().data('level')) * 20}%`, ease: Power0.easeNone\n\t\t\t});\n\t\t}\n\n\t\t/* return an event handling function */\n\n\t\treturn () => {\n\n\t\t\t/* Determining current progress of animation */\n\n\t\t\tlet startAnimFrom = tlSkills.isActive() ? Number((tlSkills.time()).toFixed(1)) : 0;\n\n\t\t\t/* Skip part of animation  if reversed */\n\n\t\t\tcounter % 2 && (startAnimFrom > tlSkills.getLabelTime('synch') || startAnimFrom === 0) ? startAnimFrom = tlSkills.getLabelTime('synch') : null;\n\n\t\t\t// animation direction reversed each time\n\n\t\t\tcounter % 2 ? tlSkills.reverse(startAnimFrom) : tlSkills.play();\n\t\t\tcounter++;\n\n\t\t};\n\t};\n\n\t/* create right handlers for each slide */\n\tconst\n\t\tfrontHandler = skillsHandler($('.swiper-slide.front')),\n\t\tfront2Handler = skillsHandler($('.swiper-slide.front-2')),\n\t\trightHandler = skillsHandler($('.swiper-slide.right')),\n\t\tright2Handler = skillsHandler($('.swiper-slide.right-2')),\n\t\tbackHandler = skillsHandler($('.swiper-slide.back')),\n\t\tback2Handler = skillsHandler($('.swiper-slide.back-2')),\n\t\tleftHandler = skillsHandler($('.swiper-slide.left'));\n\n\t/* attach handlers to slides */\n\t/* \n\t$('.swiper-slide.front')\n\t\t.off()\n\t\t.on('click', () => frontHandler());\n\n\t$('.swiper-slide.front-2')\n\t\t.off()\n\t\t.on('click', () => front2Handler());\n\t\t\t\n\t$('.swiper-slide.right')\n\t\t.off()\n\t\t.on('click', () => rightHandler());\t\n\t\n\t$('.swiper-slide.right-2')\n\t\t.off()\n\t\t.on('click', () => right2Handler());\t\n\t\n\t$('.swiper-slide.back')\n\t\t.off()\n\t\t.on('click', () => backHandler());\t\n\t\n\t$('.swiper-slide.back-2')\n\t\t.off()\n\t\t.on('click', () => back2Handler());\t\n\t\n\t$('.swiper-slide.left')\n\t\t.off()\n\t\t.on('click', () => leftHandler());\t */\n\n\t/* stop propagation on back-face */\t\n\n\t$('.back-face').on('click', (event) => {\n\t\tevent.stopPropagation();\n\t});\n\n\n\tconst tl3dSlider = new TimelineMax({ repeat: -1 });\n\n\t//tl3dSlider.to($('.swiper-wrapper'), 12, { rotationY: 360, ease: Power0.easeNone });\n});"]}